{"ast":null,"code":"/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __extends, __spreadArrays } from \"tslib\";\nimport * as React from \"react\";\nimport { Classes, Menu, MenuItem } from \"@blueprintjs/core\";\nimport { DATERANGEPICKER_SHORTCUTS } from \"./common/classes\";\nimport { clone, isDayRangeInRange } from \"./common/dateUtils\";\n\nvar Shortcuts =\n/** @class */\nfunction (_super) {\n  __extends(Shortcuts, _super);\n\n  function Shortcuts() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.getShorcutClickHandler = function (shortcut, index) {\n      return function () {\n        var onShortcutClick = _this.props.onShortcutClick;\n        onShortcutClick(shortcut, index);\n      };\n    };\n\n    _this.isShortcutInRange = function (shortcutDateRange) {\n      var _a = _this.props,\n          minDate = _a.minDate,\n          maxDate = _a.maxDate;\n      return isDayRangeInRange(shortcutDateRange, [minDate, maxDate]);\n    };\n\n    return _this;\n  }\n\n  Shortcuts.prototype.render = function () {\n    var _this = this;\n\n    var shortcuts = this.props.shortcuts === true ? createDefaultShortcuts(this.props.allowSingleDayRange, this.props.timePrecision !== undefined, this.props.useSingleDateShortcuts === true) : this.props.shortcuts;\n    var shortcutElements = shortcuts.map(function (shortcut, index) {\n      return React.createElement(MenuItem, {\n        active: _this.props.selectedShortcutIndex === index,\n        className: Classes.POPOVER_DISMISS_OVERRIDE,\n        disabled: !_this.isShortcutInRange(shortcut.dateRange),\n        key: index,\n        onClick: _this.getShorcutClickHandler(shortcut, index),\n        text: shortcut.label\n      });\n    });\n    return React.createElement(Menu, {\n      className: DATERANGEPICKER_SHORTCUTS,\n      tabIndex: 0\n    }, shortcutElements);\n  };\n\n  Shortcuts.defaultProps = {\n    selectedShortcutIndex: -1\n  };\n  return Shortcuts;\n}(React.PureComponent);\n\nexport { Shortcuts };\n\nfunction createShortcut(label, dateRange) {\n  return {\n    dateRange: dateRange,\n    label: label\n  };\n}\n\nfunction createDefaultShortcuts(allowSingleDayRange, hasTimePrecision, useSingleDateShortcuts) {\n  var today = new Date();\n\n  var makeDate = function (action) {\n    var returnVal = clone(today);\n    action(returnVal);\n    returnVal.setDate(returnVal.getDate() + 1);\n    return returnVal;\n  };\n\n  var tomorrow = makeDate(function () {\n    return null;\n  });\n  var yesterday = makeDate(function (d) {\n    return d.setDate(d.getDate() - 2);\n  });\n  var oneWeekAgo = makeDate(function (d) {\n    return d.setDate(d.getDate() - 7);\n  });\n  var oneMonthAgo = makeDate(function (d) {\n    return d.setMonth(d.getMonth() - 1);\n  });\n  var threeMonthsAgo = makeDate(function (d) {\n    return d.setMonth(d.getMonth() - 3);\n  });\n  var sixMonthsAgo = makeDate(function (d) {\n    return d.setMonth(d.getMonth() - 6);\n  });\n  var oneYearAgo = makeDate(function (d) {\n    return d.setFullYear(d.getFullYear() - 1);\n  });\n  var twoYearsAgo = makeDate(function (d) {\n    return d.setFullYear(d.getFullYear() - 2);\n  });\n  var singleDayShortcuts = allowSingleDayRange || useSingleDateShortcuts ? [createShortcut(\"Today\", [today, hasTimePrecision ? tomorrow : today]), createShortcut(\"Yesterday\", [yesterday, hasTimePrecision ? today : yesterday])] : [];\n  return __spreadArrays(singleDayShortcuts, [createShortcut(useSingleDateShortcuts ? \"1 week ago\" : \"Past week\", [oneWeekAgo, today]), createShortcut(useSingleDateShortcuts ? \"1 month ago\" : \"Past month\", [oneMonthAgo, today]), createShortcut(useSingleDateShortcuts ? \"3 months ago\" : \"Past 3 months\", [threeMonthsAgo, today])], useSingleDateShortcuts ? [] : [createShortcut(\"Past 6 months\", [sixMonthsAgo, today])], [createShortcut(useSingleDateShortcuts ? \"1 year ago\" : \"Past year\", [oneYearAgo, today])], useSingleDateShortcuts ? [] : [createShortcut(\"Past 2 years\", [twoYearsAgo, today])]);\n}","map":{"version":3,"sources":["../../src/shortcuts.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __extends, __spreadArrays } from \"tslib\";\nimport * as React from \"react\";\nimport { Classes, Menu, MenuItem } from \"@blueprintjs/core\";\nimport { DATERANGEPICKER_SHORTCUTS } from \"./common/classes\";\nimport { clone, isDayRangeInRange } from \"./common/dateUtils\";\nvar Shortcuts = /** @class */ (function (_super) {\n    __extends(Shortcuts, _super);\n    function Shortcuts() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.getShorcutClickHandler = function (shortcut, index) { return function () {\n            var onShortcutClick = _this.props.onShortcutClick;\n            onShortcutClick(shortcut, index);\n        }; };\n        _this.isShortcutInRange = function (shortcutDateRange) {\n            var _a = _this.props, minDate = _a.minDate, maxDate = _a.maxDate;\n            return isDayRangeInRange(shortcutDateRange, [minDate, maxDate]);\n        };\n        return _this;\n    }\n    Shortcuts.prototype.render = function () {\n        var _this = this;\n        var shortcuts = this.props.shortcuts === true\n            ? createDefaultShortcuts(this.props.allowSingleDayRange, this.props.timePrecision !== undefined, this.props.useSingleDateShortcuts === true)\n            : this.props.shortcuts;\n        var shortcutElements = shortcuts.map(function (shortcut, index) { return (React.createElement(MenuItem, { active: _this.props.selectedShortcutIndex === index, className: Classes.POPOVER_DISMISS_OVERRIDE, disabled: !_this.isShortcutInRange(shortcut.dateRange), key: index, onClick: _this.getShorcutClickHandler(shortcut, index), text: shortcut.label })); });\n        return (React.createElement(Menu, { className: DATERANGEPICKER_SHORTCUTS, tabIndex: 0 }, shortcutElements));\n    };\n    Shortcuts.defaultProps = {\n        selectedShortcutIndex: -1,\n    };\n    return Shortcuts;\n}(React.PureComponent));\nexport { Shortcuts };\nfunction createShortcut(label, dateRange) {\n    return { dateRange: dateRange, label: label };\n}\nfunction createDefaultShortcuts(allowSingleDayRange, hasTimePrecision, useSingleDateShortcuts) {\n    var today = new Date();\n    var makeDate = function (action) {\n        var returnVal = clone(today);\n        action(returnVal);\n        returnVal.setDate(returnVal.getDate() + 1);\n        return returnVal;\n    };\n    var tomorrow = makeDate(function () { return null; });\n    var yesterday = makeDate(function (d) { return d.setDate(d.getDate() - 2); });\n    var oneWeekAgo = makeDate(function (d) { return d.setDate(d.getDate() - 7); });\n    var oneMonthAgo = makeDate(function (d) { return d.setMonth(d.getMonth() - 1); });\n    var threeMonthsAgo = makeDate(function (d) { return d.setMonth(d.getMonth() - 3); });\n    var sixMonthsAgo = makeDate(function (d) { return d.setMonth(d.getMonth() - 6); });\n    var oneYearAgo = makeDate(function (d) { return d.setFullYear(d.getFullYear() - 1); });\n    var twoYearsAgo = makeDate(function (d) { return d.setFullYear(d.getFullYear() - 2); });\n    var singleDayShortcuts = allowSingleDayRange || useSingleDateShortcuts\n        ? [\n            createShortcut(\"Today\", [today, hasTimePrecision ? tomorrow : today]),\n            createShortcut(\"Yesterday\", [yesterday, hasTimePrecision ? today : yesterday]),\n        ]\n        : [];\n    return __spreadArrays(singleDayShortcuts, [\n        createShortcut(useSingleDateShortcuts ? \"1 week ago\" : \"Past week\", [oneWeekAgo, today]),\n        createShortcut(useSingleDateShortcuts ? \"1 month ago\" : \"Past month\", [oneMonthAgo, today]),\n        createShortcut(useSingleDateShortcuts ? \"3 months ago\" : \"Past 3 months\", [threeMonthsAgo, today])\n    ], (useSingleDateShortcuts ? [] : [createShortcut(\"Past 6 months\", [sixMonthsAgo, today])]), [\n        createShortcut(useSingleDateShortcuts ? \"1 year ago\" : \"Past year\", [oneYearAgo, today])\n    ], (useSingleDateShortcuts ? [] : [createShortcut(\"Past 2 years\", [twoYearsAgo, today])]));\n}\n//# sourceMappingURL=shortcuts.js.map"]},"metadata":{},"sourceType":"module"}